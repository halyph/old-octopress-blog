---
layout: post
title: Axis2 and Tomcat work together with SecurityManager
date: '2011-04-17T00:57:00.001+03:00'
author: Orest Ivasiv
tags:
- java
- axis2
- Tomcat
- SecurityManager
modified_time: '2011-04-17T00:59:35.110+03:00'
blogger_id: tag:blogger.com,1999:blog-7372777165432727866.post-4099103467201772644
blogger_orig_url: http://www.halyph.com/2011/04/axis2-and-tomcat-work-together-with.html
---

<ol><li>First of all download the latest <a href="http://tomcat.apache.org/download-70.cgi">Tomcat</a> and <a href="http://axis.apache.org/axis2/java/core/download.cgi">axis2.war</a>.</li><li>Read <a href="http://tomcat.apache.org/tomcat-7.0-doc/security-manager-howto.html">Tomcat Security Manager HOW-TO</a></li><li>Setup Tomcat and deploy axis2.war.</li><li> Edit <code>&lt;TOMCAT install dir&gt;/conf/catalina.policy</code> file and add the next:</li><pre class="brush: bash;">grant {<br />    permission java.io.FilePermission "${catalina.base}/webapps/axis2/WEB-INF/-", "read";<br />    permission java.lang.RuntimePermission "getClassLoader";<br />}<br /><br />grant codeBase "file:${catalina.home}/webapps/axis2/-" {<br />    permission java.lang.RuntimePermission "createClassLoader";  <br />    permission java.lang.RuntimePermission "setContextClassLoader";  <br />    permission java.lang.RuntimePermission "checkPropertiesAccess";  <br />    permission java.lang.RuntimePermission "getClassLoader";  <br />    permission java.lang.RuntimePermission "getProtectionDomain";  <br />    permission java.lang.RuntimePermission "defineClassInPackage.org.apache.jasper.runtime";  <br />    permission java.lang.RuntimePermission "accessClassInPackage.org.apache.catalina.deploy";<br />    permission java.lang.RuntimePermission "shutdownHooks";  <br />    permission java.lang.RuntimePermission "accessDeclaredMembers";  <br />    permission java.util.PropertyPermission "*", "read,write";  <br />    permission java.net.SocketPermission "localhost:8080", "resolve, connect";  <br />    permission java.io.FilePermission "${catalina.base}/webapps/axis2/WEB-INF/modules/*", "read,write";  <br />    permission java.io.FilePermission "${catalina.base}/webapps/axis2/WEB-INF/services/*", "read,write";  <br />    permission java.io.FilePermission "${catalina.home}/common/classes", "read";  <br />    permission java.io.FilePermission "${catalina.home}/shared/classes", "read";  <br />    permission java.io.FilePermission "${catalina.base}/common/classes", "read";  <br />    permission java.io.FilePermission "${catalina.base}/shared/classes", "read";  <br />    permission java.io.FilePermission "${catalina.home}/common/i18n/*", "read";  <br />    permission java.io.FilePermission "${catalina.home}/common/lib/*", "read";  <br />    permission java.io.FilePermission "${catalina.home}/lib", "read";  <br />    permission java.io.FilePermission "${catalina.home}/lib/*", "read";  <br />    permission java.io.FilePermission "${catalina.home}/bin/*", "read";  <br />    permission java.io.FilePermission "${catalina.base}/webapps/axis2/WEB-INF/scriptServices/*", "read";  <br />    permission java.io.FilePermission "${java.home}/lib/ext/*", "read";  <br />    permission java.io.FilePermission "${catalina.base}/webapps/axis2/WEB-INF/web.xml", "read";  <br />    permission java.io.FilePermission "${java.io.tmpdir}${/}-", "read, write, delete"; <br />    permission java.io.FilePermission "${java.io.tmpdir}", "read, write, delete";<br />};<br /><br /></pre><li>Start Tomcat with SecurityManager:&nbsp;</li><pre>$CATALINA_HOME/bin/catalina.sh start -security    (Unix)<br />%CATALINA_HOME%\bin\catalina start -security      (Windows)<br /></pre><li>Verify axis2 <span class="postbody">"HappyAxis" page as follows: http://localhost:8080/axis2/axis2-web/HappyAxis.jsp </span></li></ol>NOTE: other application servers can and have different security policy file options/permissions.