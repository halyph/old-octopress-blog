---
layout: post
title: 'REST with JAX-RS: Part 3 - Embedded Jetty'
date: '2013-10-21T08:00:00.000+03:00'
author: Orest Ivasiv
categories:
- java
- rest
- jetty
- jax-rs
- cxf
modified_time: '2013-10-21T22:51:56.990+03:00'
thumbnail: http://1.bp.blogspot.com/-KC2gFdfkvnE/Ul8JQLUCq9I/AAAAAAAABs0/IhySnzRFWd4/s72-c/rest_logo_small.png
blogger_id: tag:blogger.com,1999:blog-7372777165432727866.post-4088023111616597973
blogger_orig_url: http://www.halyph.com/2013/10/rest-with-jax-rs-part-3-embedded-jetty.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-KC2gFdfkvnE/Ul8JQLUCq9I/AAAAAAAABs0/IhySnzRFWd4/s1600/rest_logo_small.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://1.bp.blogspot.com/-KC2gFdfkvnE/Ul8JQLUCq9I/AAAAAAAABs0/IhySnzRFWd4/s1600/rest_logo_small.png" /></a></div><br />See previous posts:<br /><ul><li><a href="http://www.halyph.com/2013/10/rest-with-jax-rs-part-1-spring-java.html">REST with JAX-RS: Part 1 - Spring Java Config</a></li><li><a href="http://www.halyph.com/2013/10/rest-with-jax-rs-part-2-spring-java.html">REST with JAX-RS: Part 2 - Spring Java Config and CXF Improvement</a></li></ul>There is one feature which I'd like to add. It's embedded Jetty server. I.e. we should be able to run our application from <i>main()</i> method. <br /><br />Update pom.xml, add jetty server as dependency<br /><pre class="brush: xml;">...<br /> &lt;org.eclipse.jetty.version&gt;9.0.6.v20130930&lt;/org.eclipse.jetty.version&gt;<br />...<br /> <dependency><br />    <groupid>org.eclipse.jetty</groupid><br />    <artifactid>jetty-webapp</artifactid><br />    <version>${org.eclipse.jetty.version}</version><br /> </dependency><br />...<br /></pre>Create special <b>Launcher </b>class which runs embedded Jetty Server. Jetty configuration registers port, host, base REST URL (<b><i>"/api/*"</i></b>) and the most important - proper Spring config.   <br /><pre class="brush: java;">package com.halyph;<br /><br />import com.halyph.config.AppConfig;<br />import org.apache.cxf.transport.servlet.CXFServlet;<br />import org.eclipse.jetty.server.Server;<br />import org.eclipse.jetty.servlet.ServletContextHandler;<br />import org.eclipse.jetty.servlet.ServletHolder;<br />import org.springframework.web.context.ContextLoaderListener;<br />import org.springframework.web.context.support.AnnotationConfigWebApplicationContext;<br /><br /><br />public class Launcher {<br /><br />    public static final int PORT = 8080;<br /><br />    public static void main(final String[] args) throws Exception {<br />        Server server = new Server(PORT);<br /><br />        // Register and map the dispatcher servlet<br />        final ServletHolder servletHolder = new ServletHolder(new CXFServlet());<br />        final ServletContextHandler context = new ServletContextHandler();<br />        context.setContextPath("/");<br />        context.addServlet(servletHolder, AppConfig.API_BASE);<br />        context.addEventListener(new ContextLoaderListener());<br /><br />        context.setInitParameter("contextClass", AnnotationConfigWebApplicationContext.class.getName());<br />        context.setInitParameter("contextConfigLocation", AppConfig.class.getName());<br /><br />        server.setHandler(context);<br />        server.start();<br />        server.join();<br />    }<br />}<br /><br /><br /></pre><br /><img border="0" src="http://4.bp.blogspot.com/-19PdlvA340g/UmJjzXEXT6I/AAAAAAAABtM/hu7TPhIwD0U/s1600/Logos-Github-icon.png" />&nbsp;&nbsp; You can find sources on <a href="https://github.com/halyph/jaxrs-tutorials/tree/part/03-embedded-jetty">GitHub</a><br /><br /><b>References</b><br /><ol><li><a href="http://aredko.blogspot.com/2013/01/going-rest-embedding-jetty-with-spring.html">Going REST: embedding Jetty with Spring and JAX-RS (Apache CXF)</a> </li><li><a href="http://www.hascode.com/2013/07/embedding-jetty-or-tomcat-in-your-java-application/">Embedding Jetty or Tomcat in your Java Application</a></li></ol>