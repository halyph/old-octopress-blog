---
layout: post
title: Graphics Unit Conversion
date: '2013-05-23T14:35:00.001+03:00'
author: Orest Ivasiv
categories:
- java
- pdf
modified_time: '2013-05-23T14:35:24.078+03:00'
thumbnail: http://3.bp.blogspot.com/-OcQd9aLAnoc/T2HQNCIz5hI/AAAAAAAAAgk/wynszvwrfzw/s72-c/1331810342_Java.png
blogger_id: tag:blogger.com,1999:blog-7372777165432727866.post-885243675134902738
blogger_orig_url: http://www.halyph.com/2013/05/graphics-unit-conversion.html
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-OcQd9aLAnoc/T2HQNCIz5hI/AAAAAAAAAgk/wynszvwrfzw/s1600/1331810342_Java.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-OcQd9aLAnoc/T2HQNCIz5hI/AAAAAAAAAgk/wynszvwrfzw/s1600/1331810342_Java.png" /></a></div>Working with PDF files and with scanned images it always required to convert from point to millimeter, or from millimeter to pixel, and so on.<br /><br />There is very interesting quote from <a href="http://www.manning.com/lowagie2/" target="_blank">iText in Action</a> book:<br /><blockquote class="tr_bq">What is the measurement unit in PDF documents? Most of the measurements in PDFs are expressed in user space units. ISO-32000-1 (section 8.3.2.3) tells us “the&nbsp; default&nbsp; for&nbsp; the&nbsp; size&nbsp; of&nbsp; the&nbsp; unit&nbsp; in&nbsp; default&nbsp; user&nbsp; space&nbsp; (1/72&nbsp; inch)&nbsp; is approximately&nbsp; the&nbsp; same&nbsp; as&nbsp; a&nbsp; point&nbsp; (pt),&nbsp; a&nbsp; unit&nbsp; widely&nbsp; used&nbsp; in&nbsp; the&nbsp; printing industry. It is not exactly the same; there is no universal definition of a point.” In short, 1 in. = 25.4 mm = 72 user units (which roughly corresponds to 72 pt).</blockquote><br />Of course,&nbsp; you can easily write these utilities by yourself. But, sometimes it makes sense to look around in your project, maybe you've already had all required utils.<br /><br />So, here are code snippets from several libraries<br /><br /><a href="http://barcode4j.sourceforge.net/" target="_blank"><span style="font-size: large;">1. Barcode4j</span></a><br /><br /><pre class="brush: java;">package org.krysalis.barcode4j.tools;<br /><br />/**<br /> * Utility class for unit conversions.<br /> * <br /> * @author Jeremias Maerki<br /> * @version $Id: UnitConv.java,v 1.2 2004/09/04 20:25:56 jmaerki Exp $<br /> */<br />public class UnitConv {<br /><br />    /**<br />     * Utility class: Constructor prevents instantiating when subclassed.<br />     */<br />    protected UnitConv() {<br />        throw new UnsupportedOperationException();<br />    }<br />    <br />    /**<br />     * Converts millimeters (mm) to points (pt)<br />     * @param mm the value in mm<br />     * @return the value in pt<br />     */<br />    public static double mm2pt(double mm) {<br />        return mm * 2.835;<br />    }<br /><br />    /**<br />     * Converts points (pt) to millimeters (mm)<br />     * @param pt the value in pt<br />     * @return the value in mm<br />     */<br />    public static double pt2mm(double pt) {<br />        return pt / 2.835;<br />    }<br />    <br />    /**<br />     * Converts millimeters (mm) to inches (in)<br />     * @param mm the value in mm<br />     * @return the value in inches<br />     */<br />    public static double mm2in(double mm) {<br />        return mm / 25.4;<br />    }<br />    <br />    /**<br />     * Converts inches (in) to millimeters (mm)<br />     * @param in the value in inches<br />     * @return the value in mm<br />     */<br />    public static double in2mm(double in) {<br />        return in * 25.4;<br />    }<br />    <br />    /**<br />     * Converts millimeters (mm) to pixels (px)<br />     * @param mm the value in mm<br />     * @param resolution the resolution in dpi (dots per inch)<br />     * @return the value in pixels<br />     */<br />    public static int mm2px(double mm, int resolution) {<br />        return (int)Math.round(mm2in(mm) * resolution);<br />    }<br />}<br /></pre><a href="https://github.com/ymasory/iText-4.2.0" target="_blank"><span style="font-size: large;">2. iText v.4.2</span></a><br /><pre class="brush: java;">package com.lowagie.text;<br /><br />/**<br /> * A collection of convenience methods that were present in many different iText<br /> * classes.<br /> */<br /><br />public class Utilities {<br /><br />...<br /> <br /> /**<br />  * Measurement conversion from millimeters to points.<br />  * @param value a value in millimeters<br />  * @return a value in points<br />  * @since 2.1.2<br />  */<br /> public static final float millimetersToPoints(float value) {<br />     return inchesToPoints(millimetersToInches(value));<br /> }<br /><br /> /**<br />  * Measurement conversion from millimeters to inches.<br />  * @param value a value in millimeters<br />  * @return a value in inches<br />  * @since 2.1.2<br />  */<br /> public static final float millimetersToInches(float value) {<br />     return value / 25.4f;<br /> }<br /><br /> /**<br />  * Measurement conversion from points to millimeters.<br />  * @param value a value in points<br />  * @return a value in millimeters<br />  * @since 2.1.2<br />  */<br /> public static final float pointsToMillimeters(float value) {<br />     return inchesToMillimeters(pointsToInches(value));<br /> }<br /><br /> /**<br />  * Measurement conversion from points to inches.<br />  * @param value a value in points<br />  * @return a value in inches<br />  * @since 2.1.2<br />  */<br /> public static final float pointsToInches(float value) {<br />     return value / 72f;<br /> }<br /><br /> /**<br />  * Measurement conversion from inches to millimeters.<br />  * @param value a value in inches<br />  * @return a value in millimeters<br />  * @since 2.1.2<br />  */<br /> public static final float inchesToMillimeters(float value) {<br />     return value * 25.4f;<br /> }<br /><br /> /**<br />  * Measurement conversion from inches to points.<br />  * @param value a value in inches<br />  * @return a value in points<br />  * @since 2.1.2<br />  */<br /> public static final float inchesToPoints(float value) {<br />     return value * 72f;<br /> }<br />    ...<br />}<br /></pre><a href="http://xmlgraphics.apache.org/fop/" target="_blank"><span style="font-size: large;">3. FOP</span></a><br /><pre class="brush: java;"><br />package org.apache.fop.util;<br /><br />import java.awt.geom.AffineTransform;<br /><br />/**<br /> * Utility class for unit conversions.<br /> * @deprecated use org.apache.xmlgraphics.util.UnitConv instead.<br /> */<br />public final class UnitConv {<br /><br />    /**<br />     * conversion factory from millimeters to inches.<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.IN2MM instead.<br />     */<br />    public static final float IN2MM = org.apache.xmlgraphics.util.UnitConv.IN2MM;<br /><br />    /**<br />     * conversion factory from centimeters to inches.<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.IN2CM instead.<br />     */<br />    public static final float IN2CM = org.apache.xmlgraphics.util.UnitConv.IN2CM;<br /><br />    /**<br />     * conversion factory from inches to points.<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.IN2PT instead.<br />     */<br />    public static final int IN2PT = org.apache.xmlgraphics.util.UnitConv.IN2PT;<br /><br />    /**<br />     * Converts millimeters (mm) to points (pt)<br />     * @param mm the value in mm<br />     * @return the value in pt<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mm2pt(mm) instead.<br />     */<br />    public static double mm2pt(double mm) {<br />        return org.apache.xmlgraphics.util.UnitConv.mm2pt(mm);<br />    }<br /><br />    /**<br />     * Converts millimeters (mm) to millipoints (mpt)<br />     * @param mm the value in mm<br />     * @return the value in mpt<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mm2mpt(mm) instead.<br />     */<br />    public static double mm2mpt(double mm) {<br />        return org.apache.xmlgraphics.util.UnitConv.mm2mpt(mm);<br />    }<br /><br />    /**<br />     * Converts points (pt) to millimeters (mm)<br />     * @param pt the value in pt<br />     * @return the value in mm<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.pt2mm(pt) instead.<br />     */<br />    public static double pt2mm(double pt) {<br />        return org.apache.xmlgraphics.util.UnitConv.pt2mm(pt);<br />    }<br /><br />    /**<br />     * Converts millimeters (mm) to inches (in)<br />     * @param mm the value in mm<br />     * @return the value in inches<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.pt2mm(pt) instead.<br />     */<br />    public static double mm2in(double mm) {<br />        return org.apache.xmlgraphics.util.UnitConv.mm2in(mm);<br />    }<br /><br />    /**<br />     * Converts inches (in) to millimeters (mm)<br />     * @param in the value in inches<br />     * @return the value in mm<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.in2mm(in) instead.<br />     */<br />    public static double in2mm(double in) {<br />        return org.apache.xmlgraphics.util.UnitConv.in2mm(in);<br />    }<br /><br />    /**<br />     * Converts inches (in) to millipoints (mpt)<br />     * @param in the value in inches<br />     * @return the value in mpt<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.in2mpt(in) instead.<br />     */<br />    public static double in2mpt(double in) {<br />        return org.apache.xmlgraphics.util.UnitConv.in2mpt(in);<br />    }<br /><br />    /**<br />     * Converts inches (in) to points (pt)<br />     * @param in the value in inches<br />     * @return the value in pt<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.in2pt(in) instead.<br />     */<br />    public static double in2pt(double in) {<br />        return org.apache.xmlgraphics.util.UnitConv.in2pt(in);<br />    }<br /><br />    /**<br />     * Converts millipoints (mpt) to inches (in)<br />     * @param mpt the value in mpt<br />     * @return the value in inches<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mpt2in(mpt) instead.<br />     */<br />    public static double mpt2in(double mpt) {<br />        return org.apache.xmlgraphics.util.UnitConv.mpt2in(mpt);<br />    }<br /><br />    /**<br />     * Converts millimeters (mm) to pixels (px)<br />     * @param mm the value in mm<br />     * @param resolution the resolution in dpi (dots per inch)<br />     * @return the value in pixels<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mm2px(mm, resolution) instead.<br />     */<br />    public static double mm2px(double mm, int resolution) {<br />        return org.apache.xmlgraphics.util.UnitConv.mm2px(mm, resolution);<br />    }<br /><br />    /**<br />     * Converts millipoints (mpt) to pixels (px)<br />     * @param mpt the value in mpt<br />     * @param resolution the resolution in dpi (dots per inch)<br />     * @return the value in pixels<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mpt2px(mpt, resolution) instead.<br />     */<br />    public static double mpt2px(double mpt, int resolution) {<br />        return org.apache.xmlgraphics.util.UnitConv.mpt2px(mpt, resolution);<br />    }<br /><br />    /**<br />     * Converts a millipoint-based transformation matrix to points.<br />     * @param at a millipoint-based transformation matrix<br />     * @return a point-based transformation matrix<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.mptToPt(at) instead.<br />     */<br />    public static AffineTransform mptToPt(AffineTransform at) {<br />        return org.apache.xmlgraphics.util.UnitConv.mptToPt(at);<br />    }<br /><br />    /**<br />     * Converts a point-based transformation matrix to millipoints.<br />     * @param at a point-based transformation matrix<br />     * @return a millipoint-based transformation matrix<br />     * @deprecated use org.apache.xmlgraphics.util.UnitConv.ptToMpt(at) instead.<br />     */<br />    public static AffineTransform ptToMpt(AffineTransform at) {<br />        return org.apache.xmlgraphics.util.UnitConv.ptToMpt(at);<br />    }<br />}<br /></pre>