<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Windows | Knowledge Is Everything]]></title>
  <link href="http://halyph.com/blog/categories/windows/atom.xml" rel="self"/>
  <link href="http://halyph.com/"/>
  <updated>2015-07-14T00:58:51+03:00</updated>
  <id>http://halyph.com/</id>
  <author>
    <name><![CDATA[Orest Ivasiv]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[How to Install Octopress on Windows?]]></title>
    <link href="http://halyph.com/blog/2015/02/17/how-to-install-octopress-on-windows/"/>
    <updated>2015-02-17T18:53:27+02:00</updated>
    <id>http://halyph.com/blog/2015/02/17/how-to-install-octopress-on-windows</id>
    <content type="html"><![CDATA[<p><img class="center" src="/images/blog/ruby.png"></p>

<p>I&rsquo;ve been using <a href="http://octopress.org/">Octopress</a> on Mac OS X (i.e. have no problem). But, recently I&rsquo;ve decided to run my blog on Windows machine and felt pain. Ahh, <a href="http://octopress.org/">Octopress</a> uses bunch of native extentions which actually cause a lot of cross-platform issues. My first attempt was to try <a href="http://jruby.org/">JRuby</a> due to his better Windows support, but got this:</p>

<pre><code>$ bundle install
Fetching gem metadata from https://rubygems.org/.........
Installing rake (10.4.2)
Installing RedCloth (4.2.9)
Using blankslate (2.1.2.4)
Installing hitimes (1.2.2)
Installing timers (4.0.1)
Installing celluloid (0.16.0)
Installing chunky_png (1.3.3)
Installing fast-stemmer (1.0.2) with native extensions
Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension
.
        D:/Tools/JRuby/jruby-1.7.0/bin/jruby.exe extconf.rb NotImplementedError: C extension support is not enabled. Pass -Xcext.enabled=true to JRuby or set JRUBY_OPTS or modify .jrubyrc to enable.

   (root) at D:/Tools/JRuby/jruby-1.7.0/lib/ruby/shared/mkmf.rb:8  require at org/jruby/RubyKernel.java:1019
   (root) at D:/Tools/JRuby/jruby-1.7.0/lib/ruby/shared/rubygems/custom_require.rb:1
   (root) at extconf.rb:1


Gem files will remain installed in D:/Tools/JRuby/jruby-1.7.0/lib/ruby/gems/shared/gems/fast-stemmer-1.0.2 for inspection.
Results logged to D:/Tools/JRuby/jruby-1.7.0/lib/ruby/gems/shared/gems/fast-stemmer-1.0.2/ext/gem_make.out
An error occurred while installing fast-stemmer (1.0.2), and Bundler cannot continue.
Make sure that `gem install fast-stemmer -v '1.0.2'` succeeds before bundling.
</code></pre>

<p>There is JRuby version of <code>fast-stemmer</code> gem called <a href="https://github.com/caius/jruby-stemmer"><code>jruby-stemmer</code></a>. But, I&rsquo;m not ready to maitain this. That&rsquo;s why I&rsquo;ve decided to use <a href="http://rubyinstaller.org/">RubyInstaller</a>.</p>

<a name="Install.Ruby.on.Windows.and.SSL.issues"></a>
<h2>Install Ruby on Windows and SSL issues</h2>

<ol>
<li><p>Download (<code>rubyinstaller-2.1.5-x64.exe</code> in my case) and install <a href="http://rubyinstaller.org/">RubyInstaller</a>. I installed in <code>d:\Tools\Ruby\Ruby21-x64\</code> folder.</p></li>
<li><p>Check <code>rubygems</code> via running <code>gem update</code> and you should get the next error:
<code>
$ gem update
Updating installed gems
ERROR:  While executing gem ... (Gem::RemoteFetcher::FetchError)
 SSL_connect returned=1 errno=0 state=SSLv3 read server certificate B: certificate verify failed (https://api.rubygems.org/specs.4.8.gz)
</code></p></li>
</ol>


<p>It&rsquo;s well known <code>rubygems</code> issues with ready to use <a href="https://gist.github.com/luislavena/f064211759ee0f806c88">solution</a>:</p>

<ul>
<li>Step 1: Obtain the new trust certificate, download it <a href="https://raw.githubusercontent.com/rubygems/rubygems/master/lib/rubygems/ssl_certs/AddTrustExternalCARoot-2048.pem">AddTrustExternalCARoot-2048.pem</a> in some temp folder</li>
<li>Step 2: Locate RubyGems certificate directory in your installation (in my case it&rsquo;s <code>D:/Tools/Ruby/Ruby21-x64/lib/ruby/2.1.0/</code> )
<code>
$ gem which rubygems
D:/Tools/Ruby/Ruby21-x64/lib/ruby/2.1.0/rubygems.rb
</code></li>
<li>Step 3: Copy new trust certificate into <code>D:\Tools\Ruby\Ruby21-x64\lib\ruby\2.1.0\rubygems\ssl_certs</code>
<code>
$ copy AddTrustExternalCARoot-2048.pem D:\Tools\Ruby\Ruby21-x64\lib\ruby\2.1.0\rubygems\ssl_certs
</code></li>
<li>Step 4: Now You should be able to run gem update without any issues</li>
</ul>


<a name="Prepapre.environment.for.Octopress"></a>
<h2>Prepapre environment for Octopress</h2>

<p>Now it&rsquo;s time to clone <a href="http://octopress.org/">Octopress</a> blog and run it. Unfortunatelly, there are some minor issues which still must be fixed.</p>

<a name="Fix..Octopress..native.extentions.issues"></a>
<h3>Fix <a href="http://octopress.org/">Octopress</a> native extentions issues</h3>

<p>We know that <a href="http://octopress.org/">Octopress</a> uses native extentions thats why we have to additionally install <a href="http://cdn.rubyinstaller.org/archives/devkits/DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe">Development Kit</a></p>

<ul>
<li>Download and unpack it in adjacent to Ruby install folder (<code>d:\Tools\Ruby\DevKit_2.1_x64\</code> in my case)</li>
<li>Link <a href="http://cdn.rubyinstaller.org/archives/devkits/DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe">Development Kit</a> installation to previously installed Ruby

<ul>
<li>Go to <a href="http://cdn.rubyinstaller.org/archives/devkits/DevKit-mingw64-64-4.7.2-20130224-1432-sfx.exe">Development Kit</a> install folder <code>d:\Tools\Ruby\DevKit_2.1_x64\</code></li>
<li>Run <code>ruby dk.rb init</code> which generate <code>config.yml</code>. Open <code>config.yml</code> and add <code>- D:/Tools/Ruby/Ruby21-x64</code> to the end of this file.</li>
<li>Run <code>ruby dk.rb install</code></li>
</ul>
</li>
</ul>


<p>See my <em>Development Kit</em> <code>config.yml</code>:
&#8220;`</p>

<a name="This.configuration.file.contains.the.absolute.path.locations.of.all"></a>
<h1>This configuration file contains the absolute path locations of all</h1>

<a name="installed.Rubies.to.be.enhanced.to.work.with.the.DevKit..This.config"></a>
<h1>installed Rubies to be enhanced to work with the DevKit. This config</h1>

<a name="file.is.generated.by.the..ruby.dk.rb.init..step.and.may.be.modified"></a>
<h1>file is generated by the &lsquo;ruby dk.rb init&rsquo; step and may be modified</h1>

<a name="before.running.the..ruby.dk.rb.install..step..To.include.any.installed"></a>
<h1>before running the &lsquo;ruby dk.rb install&rsquo; step. To include any installed</h1>

<a name="Rubies.that.were.not.automagically.discovered..simply.add.a.line.below"></a>
<h1>Rubies that were not automagically discovered, simply add a line below</h1>

<a name="the.triple.hyphens.with.the.absolute.path.to.the.Ruby.root.directory."></a>
<h1>the triple hyphens with the absolute path to the Ruby root directory.</h1>

<p>#</p>

<a name="Example:"></a>
<h1>Example:</h1>

<p>#</p>

<a name="L---"></a>
<h1>&mdash;</h1>

<a name="L-.C:.ruby19trunk"></a>
<h1>- C:/ruby19trunk</h1>

<a name="L-.C:.ruby192dev"></a>
<h1>- C:/ruby192dev</h1>

<a name="L."></a>
<h2>#</h2>

<ul>
<li>D:/Tools/Ruby/Ruby21-x64
&#8220;`</li>
</ul>


<a name="Install.Python"></a>
<h3>Install Python</h3>

<p>The default syntax highlighting engine in Octopress/Jekyll is <a href="http://pygments.org/">Pygments</a>. It&rsquo;s requires Python v.2.7.x. Simply download <a href="https://www.python.org/downloads/release/python-278/">Python v.2.7.8</a> and add it on system <code>PATH</code>.</p>

<a name="Final.steps"></a>
<h3>Final steps</h3>

<p>I assume that blog was previously cloned. Now, we should perform &ldquo;traditional&rdquo; Ruby project ceremony:</p>

<ul>
<li>Install <code>budler</code> via <code>gem install bundler</code></li>
<li>Setup all required gems <code>bundle install</code></li>
<li>Run <a href="http://octopress.org/">Octopress</a> preview <code>rake preview</code></li>
</ul>


<a name="References"></a>
<h2>References</h2>

<ul>
<li><a href="http://blog.zerosharp.com/setting-up-octopress-on-windows/">Octopress on Windows and GitHub</a></li>
<li><a href="http://thaiat.github.io/blog/2014/03/13/how-to-install-and-use-octopress-on-windows/">How to Install and Use Octopress on Windows</a></li>
<li><a href="http://octopress.org/">Octopress</a></li>
</ul>

]]></content>
  </entry>
  
</feed>
